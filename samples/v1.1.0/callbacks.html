<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <title>Callbacks | Checkout</title>
  <script src="http://localhost:8000/dist/1.1.0/checkout.js"></script>
  <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
</head>

<body>
  <button id="pay">Pay me</button>
  <pre></pre>

  <script>
    var button = document.querySelector('#pay')
    var pre = document.querySelector('pre')

    button.addEventListener('click', function() {
      var checkout = new PagarMeCheckout.Checkout({
        encryption_key: 'ek_test_f9cws0bU9700VqWE4UDuBlKLbvX4IO',
        success: function() {
          console.log('Success: ', data);
          pre.innerHTML = JSON.stringify(data);
        },
        error: function() {
          console.log('Error: ', data);
          pre.innerHTML = JSON.stringify(data);
        },
        close: function() {
          console.log('The modal has been closed.')
        }
      });

      checkout.open({
        amount: 8000,
        maxInstallments: 12,
        defaultInstallment: 4,
        customerData: 'false',
        createToken: 'true',
        paymentMethods: 'boleto,credit_card'
      });
    });
  </script>
</body>
</html>
